{% extends 'layout.html' %}

{% block pageTitle %}
  Take a photo of your passport
{% endblock %}


{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

     
      <div id="instructions">
        <h1>
          Take a photo of your passport
        </h1>

        <figure class="nhsuk-image" style="width:50%; border-bottom: none; margin:auto;">
          <img class="nhsuk-image__img" src="/images/icon-passport.svg" alt="proof of address document">
        </figure>

        <div class="nhsuk-do-dont-list nhsuk-u-margin-bottom-4">
          <h2 class="nhsuk-do-dont-list__label">Do</h2>
          <ul class="nhsuk-list nhsuk-list--tick" role="list">
            <li>
              <svg class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true" width="34" height="34">
                <path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12" stroke="#007f3b"></path>
              </svg>
              take a photo of page that has your name and face on it
            </li>
            <li>
            <li>
              <svg class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true" width="34" height="34">
                <path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12" stroke="#007f3b"></path>
              </svg>
              take a photo of the whole page
            </li>
            <li>
              <svg class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true" width="34" height="34">
                <path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12" stroke="#007f3b"></path>
              </svg>
              show all words, numbers and codes
            </li>
          </ul>        
        </div>
        
        <div class="nhsuk-do-dont-list nhsuk-u-margin-bottom-5">
          <h2 class="nhsuk-do-dont-list__label">Don't</h2>
          <ul class="nhsuk-list nhsuk-list--cross" role="list">
            <li>
              <svg class="nhsuk-icon nhsuk-icon__cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                <path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z" fill="#d5281b"></path>
                <path d="M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z" fill="#d5281b"></path>
              </svg>
              do not have light shining directly on the passport
            </li>
            <li>
              <svg class="nhsuk-icon nhsuk-icon__cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                <path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z" fill="#d5281b"></path>
                <path d="M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z" fill="#d5281b"></path>
              </svg>
              do not have blurred text
            </li>
          </ul>
        </div>

        <label for="passportInput1">
        <span class="nhsuk-button">Take a photo</span>

      </div>
      
  
        <!-- The hidden file `input` for opening the native camera -->
        <input class="nhsuk-u-visually-hidden"
          id="passportInput1"
          type="file"
          accept="image/*"
          capture="environment"
        />
      </label>
      
      <div id="edit-image" style="display: none;">

        <div class="nhsuk-back-link">
          <a class="nhsuk-back-link__link" href="/applicant/v21/step-3/passport">
            <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" height="24" width="24">
              <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
            </svg>
            Back</a>
        </div>

        <h1 class="nhsuk-heading-xl">
          Review the photo of your passport
        </h1>

        <div class="nhsuk-warning-callout">
          <h3 class="nhsuk-warning-callout__label">
            <span role="text">
              <span class="nhsuk-u-visually-hidden">Important: </span>
              Important
            </span>
          </h3>
          <p>If the photo of your passport is blurry or does not include the whole page you may need to complete your application again.</p>
        </div>  
       

        <div class="container nhsuk-u-width-two-thirds nhsuk-u-margin-top-4 nhsuk-u-margin-bottom-6">
          <img id="passportPicture1" />
        </div>

        <p class="nhsuk-u-margin-bottom-0"><a href="/applicant/v21/step-3/spinner-passport" class="nhsuk-button nhsuk-u-width-one-third">Submit photo</a></p>
        
        <p><a href="/applicant/v21/step-3/passport" class="nhsuk-button nhsuk-button--secondary nhsuk-u-width-one-third">Retake photo</a></p>



        <form style="display:none;" action="/applicant/v21/step-3/id-front" method="post" class="form">

          <div class="nhsuk-form-group">
  
            <fieldset class="nhsuk-fieldset nhsuk-u-margin-bottom-5">
              <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--m">
                <h2 class="nhsuk-fieldset__heading">
                  Does the photo of your passport meet the guidelines?
                </h2>
              </legend>
  
              <p class="grey-text">If the photo of your passport does not meet the guidelines you may need to complete your application again.</p>
          
              <div class="nhsuk-radios">
          
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="passport-yes-1" name="review-passport" type="radio" value="yes" {{ checked("review-passport", "yes") }}>
                  <label class="nhsuk-label nhsuk-radios__label" for="passport-yes-1">
                    Yes, the photo of your passport meets guidelines
                  </label>
                </div>
          
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="passport-no-1" name="review-passport" type="radio" value="no" {{ checked("review-passport", "no") }}>
                  <label class="nhsuk-label nhsuk-radios__label" for="passport-no-1">
                    No, upload a different photo
                  </label>
                </div>
          
              </div>
            </fieldset>
    
  
            {{ button({
              "text": "Submit"
            }) }}
            
          </div>
        </form>
        
        
      </div>
    </div>

  </div>

  <script>
    var instructions = document.getElementById('instructions');
    var editPhoto = document.getElementById('edit-image');

    document
      .getElementById("passportInput1")
      .addEventListener("change", function () {
        editPhoto.style.display = "block";
        instructions.style.display = "none";
        document
          .getElementById("passportPicture1")
          .setAttribute("src", window.URL.createObjectURL(this.files[0]));
      });
  </script>
{% endblock %}
